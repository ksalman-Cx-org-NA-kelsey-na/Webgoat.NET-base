---

---
name: CxONE Scan on PR
on:
  # Triggers the workflow on push or pull request events
  pull_request:
    branches-ignore:
    - main
    - master
    
  schedule:
    - cron: "0 2 * 10 5"

  workflow_dispatch:
     inputs:
      logLevel:
        description: 'Log level'
        required: false
        default: 'warning'
        type: choice
        options:
        - info
        - warning
        - debug
      tags:
        description: 'Tags'
        required: false
        type: string
      print_tags:
        description: 'True to print to STDOUT'
        required: false
        type: boolean
      environment:
        description: 'Environment to run tests against'
        type: environment
        required: false

# This cancels in progress job if another workflow is triggered
concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

jobs:
  build:
    runs-on: ubuntu-latest 
    steps:
  - name: ZAP Scan
    uses: zaproxy/action-baseline@v0.9.0
    with:
      target: 'Https://www.ast.checkmarx.net'
